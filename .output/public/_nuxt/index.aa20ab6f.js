import{B as x,r as v,H as G,o,e as n,k as e,l as f,m as Y,z as K,t as r,u as a,y as h,A as X,V as P,W as C,i as A,w as k,S as ee,p as $,L as H,J as z,R as se,F as j,x as J,f as S,h as te,j as ae,v as oe,c as O,E as L,q as le,s as ne}from"./entry.2e476155.js";import{u as M}from"./useTranslate.8819d20e.js";import{c as ie,a as V,b as re,_ as ce}from"./object.5d43951f.js";const de=l=>(P("data-v-fcacb68e"),l=l(),C(),l),_e={class:"profile-section"},ue={class:"row w-100 mx-auto"},pe={class:"col-12 mb-3"},he=de(()=>e("i",{class:"fa fa-edit"},null,-1)),be={class:"col-12 col-sm-6 col-lg-4 mb-4"},ve={class:"black-light-shadow p-3"},me={class:"col-12 col-sm-6 col-lg-4 mb-4"},fe={class:"black-light-shadow p-3"},ge={key:0,class:"col-12 col-sm-6 col-lg-4 mb-4"},we={class:"black-light-shadow p-3"},ye={class:"col-12 col-sm-6 col-lg-4 mb-4"},$e={class:"black-light-shadow p-3"},ke={key:1,class:"col-12 col-sm-6 col-lg-4 mb-4"},xe={class:"black-light-shadow p-3"},Pe={key:2,class:"col-12 col-sm-6 col-lg-4 mb-4"},Ce={class:"black-light-shadow p-3"},Ae={key:3,class:"col-12 col-sm-6 col-lg-4 mb-4"},Ne={class:"black-light-shadow p-3"},Ie={__name:"Profile",setup(l){const t=v(""),s=G().value;return t.value=new Date(s.birthDate).getFullYear()+"-"+(new Date(s.birthDate).getMonth()+1)+"-"+new Date(s.birthDate).getDate(),(d,u)=>{const i=X;return o(),n("section",_e,[e("div",ue,[e("div",pe,[f(i,{to:"/my-account/edit",class:"edit-profile"},{default:Y(()=>[he,K(" Edit Profile ")]),_:1})]),e("div",be,[e("div",ve,r(d.$t("name")+": "+a(M)(a(s),"fullName")),1)]),e("div",me,[e("div",fe,r(d.$t("email")+": "+a(s).email),1)]),a(s).userName?(o(),n("div",ge,[e("div",we,r(d.$t("username")+": "+a(s).userName),1)])):h("",!0),e("div",ye,[e("div",$e,r(d.$t("address")+": "+a(M)(a(s),"address")),1)]),a(s).birthDate?(o(),n("div",ke,[e("div",xe,r(d.$t("birthDate")+": "+a(t)),1)])):h("",!0),a(s).gender?(o(),n("div",Pe,[e("div",Ce,r(d.$t("gender")+": "+a(s).gender),1)])):h("",!0),a(s).phone?(o(),n("div",Ae,[e("div",Ne,r(d.$t("mobile")+": "+a(s).phone),1)])):h("",!0)])])}}},Be=x(Ie,[["__scopeId","data-v-fcacb68e"]]);const Se=l=>(P("data-v-eaf739ad"),l=l(),C(),l),Oe={class:"user-orders"},ze={class:"table-content table-responsive",id:"cart-container"},We={class:"table"},De=Se(()=>e("thead",null,[e("tr",null,[e("th",null,"Card Logo"),e("th",null,"Card Name"),e("th",null,"Card Number"),e("th",null,"Card Number Position"),e("th",null,"Chip Size"),e("th",null,"Our Designers"),e("th",null,"Card Care"),e("th",null,"Shipping"),e("th",null,"Insurance"),e("th",null,"Payment Way"),e("th",null,"Total Price")])],-1)),Ue={key:0},Ee=["src"],Re={key:1},qe={class:"pagination"},Te={class:"row w-100 mx-auto my-3"},Fe={class:"col-6 text-start"},Le={class:"col-6 text-end"},Me={__name:"UserOrder",async setup(l){let t,s;const{api:d,apiBase:u}=A(),i=v(0),p=v(8),_=v([]),b=v(!1),{data:g,error:y,pending:N,execute:I}=([t,s]=k(()=>ee("orders",()=>$fetch(`${d.ClientOrdersApi}`,{method:"GET",baseURL:`${u}`,params:{PageNumber:i.value,PageSize:p.value},headers:{Authorization:`Bearer ${$().value}`}}),{watch:[i,p]})),t=await t,s(),t);y.value&&y.value.statusCode==401&&([t,s]=k(()=>H().reAuthorize()),await t,s());const B=w=>{if(w.length==0){b.value=!0;return}else b.value=!1,_.value=[],w.forEach(W=>{_.value.push(W)})},Q=()=>{b.value||(i.value=i.value+1)},Z=()=>{b.value&&(i.value=i.value-2),i.value!=0&&(i.value=i.value-1)};return z(()=>{g.value?_.value=g.value:I()}),se(g,w=>B(w)),(w,W)=>(o(),n("section",Oe,[e("div",ze,[e("table",We,[De,e("tbody",null,[(o(!0),n(j,null,J(a(_),c=>{var D,U,E,R,q,T,F;return o(),n("tr",{key:c.id},[c!=null&&c.logoUrl?(o(),n("td",Ue,[e("img",{src:c==null?void 0:c.logoUrl,alt:"",width:"75",height:"75"},null,8,Ee)])):h("",!0),c!=null&&c.logoUrl?h("",!0):(o(),n("td",Re,"----")),e("td",null,r((D=c.name)!=null?D:"----"),1),e("td",null,r((U=c.cardNumber)!=null?U:"----"),1),e("td",null,r(c.cardNumberIsBack?"On Back":"On Front"),1),e("td",null,r(c.chipSizeIsBig?w.$t("large"):w.$t("small")),1),e("td",null,r((E=c.ourDesigners)!=null?E:"----"),1),e("td",null,r((R=c.cardCare)!=null?R:"----"),1),e("td",null,r((q=c.shipping)!=null?q:"----"),1),e("td",null,r((T=c.insurnace)!=null?T:"----"),1),e("td",null,r(c.isCash?"Cash":"Online"),1),e("td",null,r((F=c.totalPrice)!=null?F:"----"),1)])}),128))])])]),e("div",qe,[e("div",Te,[e("div",Fe,[e("button",{type:"button",class:S(`btn btn-outline-secondary px-4 py-1 ${a(i)==0?"disabled":""}`),onClick:Z},"Prev",2)]),e("div",Le,[e("button",{type:"button",class:S(`btn btn-outline-secondary px-4 py-1 ${a(b)?"disabled":""}`),onClick:Q},"Next",2)])])])]))}},Ve=x(Me,[["__scopeId","data-v-eaf739ad"]]);const Ge=l=>(P("data-v-3b87cb16"),l=l(),C(),l),Ye={class:"change-password"},He=Ge(()=>e("h5",{class:"bright-white px-3 mb-4 mb-sm-5"},"Type Your New Password To Change Your Current One : ",-1)),je={class:"login_form_inner"},Je={key:0,class:"error-messages mb-3"},Qe={class:"alert alert-danger text-center"},Ze={class:"list-unstyled mb-0"},Ke={class:"col-sm-6"},Xe={class:"col-sm-6"},es={class:"col-md-12 form-group mt-4"},ss=["disabled"],ts={key:0},as={key:1},os={__name:"ChangePassword",setup(l){te(),A();const t=v(!1),s=v(!1),d=v(""),u=async(_,b)=>{console.log("values",_)};ae({validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0});const i=ie({password:V().required().min(6).label("Your Password"),confirmPassword:V().required().oneOf([re("password")],"Passwords do not match").label("Your Confirmation Password")}),p={password:"",confirmPassword:""};return(_,b)=>{const g=ce,y=oe("VForm");return o(),n("section",Ye,[He,e("div",je,[f(y,{id:"loginForm",class:"row login_form px-3","validation-schema":a(i),"initial-values":p,onSubmit:u},{default:Y(({meta:N})=>[a(s)?(o(),n("div",Je,[e("div",Qe,[e("ul",Ze,[(o(!0),n(j,null,J(a(d),(I,B)=>(o(),n("li",{key:B},r(I),1))),128))])])])):h("",!0),e("div",Ke,[f(g,{type:"password",name:"password",id:"password",label:"New Password",placeholder:"New Password",autocomplete:"false",activePasswordEye:!0})]),e("div",Xe,[f(g,{type:"password",name:"confirmPassword",id:"confirmPassword",label:"Confirmed Password",placeholder:"Confirmed Password",autocomplete:"false",activePasswordEye:!0})]),e("div",es,[e("button",{type:"submit",value:"Login",class:S(["btn btn-custom btn-block px-3",{"btn-primary":N.valid}]),disabled:!N.valid||a(t)},[a(t)?(o(),n("span",as,r(_.$t("loading...")),1)):(o(),n("span",ts,"Change Password"))],10,ss)])]),_:1},8,["validation-schema"])])])}}},ls=x(os,[["__scopeId","data-v-3b87cb16"]]);const m=l=>(P("data-v-b76b7228"),l=l(),C(),l),ns={class:"my-account-section pb-5"},is={class:"container py-5"},rs={key:0,class:""},cs={class:"nav nav-pills nav-pills-mobile shadow p-3 mb-5 rounded",id:"pills-tab",role:"tablist"},ds={class:"nav-item",role:"presentation"},_s={"data-index":"profile",class:"nav-link active",id:"v-pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-profile",type:"button",role:"tab","aria-controls":"v-pills-profile","aria-selected":"true"},us=m(()=>e("i",{class:"fa fa-user fa-xl"},null,-1)),ps={key:0},hs={class:"fs-5 fs-sm-4"},bs={class:"nav-item",role:"presentation"},vs={"data-index":"orders",class:"nav-link",id:"v-pills-orders-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-orders",type:"button",role:"tab","aria-controls":"v-pills-orders","aria-selected":"true"},ms=m(()=>e("i",{class:"fa fa-shopping-cart fa-xl"},null,-1)),fs={key:0},gs={class:"fs-5 fs-sm-4"},ws={class:"nav-item",role:"presentation"},ys={"data-index":"change-password",class:"nav-link",id:"v-pills-change-password-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-change-password",type:"button",role:"tab","aria-controls":"v-pills-change-password","aria-selected":"true"},$s=m(()=>e("i",{class:"fa fa-lock fa-xl"},null,-1)),ks={key:0},xs=m(()=>e("span",{class:"fs-5 fs-sm-4"},"Change Password",-1)),Ps={class:"tab-content shadow rounded text-white",id:"pills-tabContent"},Cs={class:"tab-pane fade show active",id:"v-pills-profile",role:"tabpanel","aria-labelledby":"v-pills-profile-tab"},As={class:"tab-pane fade show",id:"v-pills-orders",role:"tabpanel","aria-labelledby":"v-pills-orders-tab"},Ns={key:1,class:"alert alert-warning text-center"},Is={class:"tab-pane fade show",id:"v-pills-change-password",role:"tabpanel","aria-labelledby":"v-pills-change-password-tab"},Bs={key:1,class:"row"},Ss={class:"nav col-3 flex-column nav-pills wide-screens shadow p-3 mb-5 rounded",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},Os={"data-index":"profile",class:"nav-link mb-4 active",id:"v-pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-profile",type:"button",role:"tab","aria-controls":"v-pills-profile","aria-selected":"true"},zs=m(()=>e("i",{class:"fa fa-user fa-2x"},null,-1)),Ws=m(()=>e("br",null,null,-1)),Ds={class:"fs-4"},Us={"data-index":"orders",class:"nav-link mb-4",id:"v-pills-orders-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-orders",type:"button",role:"tab","aria-controls":"v-pills-orders","aria-selected":"true"},Es=m(()=>e("i",{class:"fa fa-shopping-cart fa-2x"},null,-1)),Rs=m(()=>e("br",null,null,-1)),qs={class:"fs-4"},Ts=m(()=>e("button",{"data-index":"change-password",class:"nav-link mb-4",id:"v-pills-change-password-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-change-password",type:"button",role:"tab","aria-controls":"v-pills-change-password","aria-selected":"true"},[e("i",{class:"fa fa-lock fa-2x"}),e("br"),e("span",{class:"fs-4"},"Change Password")],-1)),Fs={class:"col-9 tab-content shadow p-3 mb-5 rounded text-white",id:"v-pills-tabContent"},Ls={class:"tab-pane fade show active",id:"v-pills-profile",role:"tabpanel","aria-labelledby":"v-pills-profile-tab"},Ms={class:"tab-pane fade show",id:"v-pills-orders",role:"tabpanel","aria-labelledby":"v-pills-orders-tab"},Vs={key:1,class:"alert alert-warning"},Gs={class:"tab-pane fade show",id:"v-pills-change-password",role:"tabpanel","aria-labelledby":"v-pills-change-password-tab"},Ys={__name:"MyAccount",props:["orders"],setup(l){const t=v(!0),s=v(!0),d=()=>{window.innerWidth>1100&&(t.value=!0),window.innerWidth>992&&window.innerWidth<=1100&&(t.value=!0),window.innerWidth>=768&&window.innerWidth<=992&&(t.value=!0),window.innerWidth>=576&&window.innerWidth<768&&(t.value=!1),window.innerWidth<576&&(t.value=!1),window.innerWidth<576&&(s.value=!1)};return z(()=>{d()}),(u,i)=>{const p=Be,_=Ve,b=ls;return o(),n("section",ns,[e("div",is,[a(t)?h("",!0):(o(),n("div",rs,[e("ul",cs,[e("li",ds,[e("button",_s,[us,a(s)?(o(),n("br",ps)):h("",!0),e("span",hs,r(u.$t("profile")),1)])]),e("li",bs,[e("button",vs,[ms,a(s)?(o(),n("br",fs)):h("",!0),e("span",gs,r(u.$t("orders")),1)])]),e("li",ws,[e("button",ys,[$s,a(s)?(o(),n("br",ks)):h("",!0),xs])])]),e("div",Ps,[e("div",Cs,[f(p)]),e("div",As,[l.orders.length?(o(),O(_,{key:0,orders:l.orders},null,8,["orders"])):(o(),n("div",Ns,"There isn't any order to display yet"))]),e("div",Is,[f(b)])])])),a(t)?(o(),n("div",Bs,[e("div",Ss,[e("button",Os,[zs,Ws,e("span",Ds,r(u.$t("profile")),1)]),e("button",Us,[Es,Rs,e("span",qs,r(u.$t("orders")),1)]),Ts]),e("div",Fs,[e("div",Ls,[f(p)]),e("div",Ms,[l.orders.length?(o(),O(_,{key:0,orders:l.orders},null,8,["orders"])):(o(),n("div",Vs,"There isn't any order to display yet"))]),e("div",Gs,[f(b)])])])):h("",!0)])])}}},Hs=x(Ys,[["__scopeId","data-v-b76b7228"]]),js=()=>{const{apiBase:l}=A(),t=async u=>L(()=>`${u}`,{key:`${u}`,baseURL:l,headers:{Authorization:`Bearer ${$().value}`},onRequest({request:i,options:p}){p.headers.Authorization=`Bearer ${$().value}`},onResponseError({request:i,response:p,options:_}){if(p.status==401)return d()}},"$8wqE2w39O6"),s=async(u,i)=>L(`${u}${i}`,{key:`${i}`,baseURL:l,headers:{Authorization:`Bearer ${$().value}`},onRequest({request:p,options:_}){_.headers.Authorization=`Bearer ${$().value}`},onResponseError({request:p,response:_,options:b}){if(_.status==401)return d()}},"$hHoA2aZQxH"),d=()=>(localStorage.removeItem("token"),localStorage.removeItem("userInfo"),$().value=null,le().value.isAuthenticated=!1,G().value=null,ne("/auth/login"));return{GetAll:t,GetById:s}},Ks={__name:"index",async setup(l){let t,s;const{api:d}=A(),u=`${d.ClientOrdersApi}?PageNumber=0&PageSize=10`,{data:i,error:p,execute:_}=([t,s]=k(()=>js().GetAll(u)),t=await t,s(),t);return p.value&&p.value.statusCode==401&&([t,s]=k(()=>H().reAuthorize()),await t,s()),z(()=>{i.value||_()}),(b,g)=>{const y=Hs;return o(),n("main",null,[a(i)?(o(),O(y,{key:0,orders:a(i)},null,8,["orders"])):h("",!0)])}}};export{Ks as default};
