import{B as y,i as g,v as c,o as n,e as i,l as m,m as v,k as p,t as u,F as b,x as h,u as C,f as V,y as S,K as x,L as B}from"./entry.2e476155.js";import{u as k}from"./useTranslate.8819d20e.js";const F={class:"form-floating mb-3"},L={value:"",disabled:""},q=["value","selected"],w=["for"],z={__name:"VSelect",props:{items:{required:!0},name:{type:String,required:!0},id:{type:String,default:"text",required:!0},label:{type:String},placeholder:{type:String,default:""}},emits:["cities","isLoaded"],setup(e,{emit:r}){const{apiBase:A,api:f}=g(),_=async(l,s)=>{if(s=="countries"){r("isLoaded",!0);let d=l.target.value;const{data:o,error:t,pending:a,refresh:E}=await x().GetById(f.CitiesByCountryApi,d);t.value&&t.value.statusCode==401&&await B().reAuthorize(),o.value&&(r("cities",o.value),r("isLoaded",!1))}};return(l,s)=>{const d=c("VField"),o=c("VErrorMessage");return n(),i("div",F,[m(d,{name:e.name,class:"form-control just-bottom-border",id:e.id,as:"select",onChange:s[0]||(s[0]=t=>_(t,e.name))},{default:v(({value:t})=>[p("option",L,u(e.placeholder),1),(n(!0),i(b,null,h(e.items,a=>(n(),i("option",{key:a,value:a.id,selected:t&&t==a.id},u(C(k)(a,"name")),9,q))),128))]),_:1},8,["name","id"]),m(o,{name:e.name,as:"div",class:"help is-invalid"},null,8,["name"]),e.label?(n(),i("label",{key:0,for:e.id,class:V(`form-label ${l.$i18n.locale=="ar"?"rtl":""}`)},u(e.label),11,w)):S("",!0)])}}},G=y(z,[["__scopeId","data-v-e459c6b0"]]);export{G as _};
