import{N as T,o as r,e as m,k as e,t as h,u as i,F as E,x as L,B as $,l as v,O as b,m as N,z as W,f as G,A as I,i as R,h as D,P as M,r as _,J as V,Q as U,w as P,R as k,c as F,y as B,S as J,L as O,G as Q}from"./entry.2e476155.js";import{_ as j}from"./Image.85211d38.js";import{u as q}from"./useTranslate.8819d20e.js";const H={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},K={class:"offcanvas-header"},X={id:"offcanvasRightLabel"},Y=e("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),Z={class:"offcanvas-body"},ee={class:"row"},te={class:"col-md-4"},se=["src"],oe={class:"col-md-8"},ne={class:"card-body"},ae={class:"card-title"},ce={class:"card-text"},ie={class:"card-text"},le={class:"d-grid"},re=["onClick"],de={__name:"ShoppingCart",props:["modelValue"],emits:["shoppingCart"],setup(t,{emit:c}){const{modelValue:d}=t,p=T(()=>{let o=0;for(const n of d)o+=n.price*n.amount;return o}),u=o=>{const n=d,s=n.findIndex(l=>l.id===o.id);console.log("shoppingCart",n,n[s]),n[s].amount-=1,n[s].amount<1&&n.splice(s,1),c("shoppingCart",n)};return(o,n)=>(r(),m("div",null,[e("div",H,[e("div",K,[e("h5",X," Shopping cart - AED "+h(i(p)),1),Y]),e("div",Z,[(r(!0),m(E,null,L(t.modelValue,(s,l)=>(r(),m("div",{key:"cart-product-"+l,class:"card mb-3"},[e("div",ee,[e("div",te,[e("img",{src:s.photoURL,class:"img-fluid rounded-start"},null,8,se)]),e("div",oe,[e("div",ne,[e("h5",ae,h(s.name),1),e("p",ce,h(s.description),1),e("p",ie,h(s.price)+" x AED "+h(s.amount),1),e("div",le,[e("button",{onClick:g=>u(s),class:"btn btn-outline-secondary"}," Remove ",8,re)])])])])]))),128))])])]))}};const ue={class:""},_e={class:"card-body text-center"},me={__name:"ProductCard",props:["src","title","oldPrice","newPrice","titleSize","titleColor","priceSize","priceColor"],setup(t){return(c,d)=>{const p=j;return r(),m("div",ue,[v(p,{classes:["card-img-top"],src:t.src,width:"100%",height:"200px"},null,8,["src"]),e("div",_e,[e("h2",{class:"card-title",style:b({"font-size":t.titleSize,color:t.titleColor})},h(t.title),5),e("h3",{class:"d-inline-block new-price mb-0 mx-2",style:b({"font-size":t.priceSize,color:t.priceColor})},h(t.newPrice),5),e("h3",{class:"d-inline-block old-price text-decoration-line-through mb-0 mx-2",style:b({"font-size":t.priceSize})},h(t.oldPrice),5)])])}}},pe=$(me,[["__scopeId","data-v-26281176"]]);const he={class:"more-btn-box"},fe={__name:"CustomBtn",props:["url","classes","width","fontSize","btnText"],setup(t){return(c,d)=>{const p=I;return r(),m("div",he,[v(p,{to:t.url,class:G(`btn-more ${t.classes}`),style:b({width:t.width,"font-size":t.fontSize})},{default:N(()=>[W(h(t.btnText),1)]),_:1},8,["to","class","style"])])}}},ve=$(fe,[["__scopeId","data-v-80b7dbc3"]]);const ge={class:"products-gallery"},xe={class:"container pt-5"},ye={class:"row"},be={__name:"Gallery",props:["products"],setup(t){const{apiBase:c,api:d}=R();D();const p=M().value,u=_("1.5rem"),o=_("1.5rem"),n=_("100%"),s=_("1.3rem"),l=_([]),g=()=>{};return V(()=>{l.value=JSON.parse(localStorage.getItem("shoppingCart")||"[]"),window.innerWidth>1100&&(u.value="1.5rem",o.value="1.5rem"),window.innerWidth>992&&window.innerWidth<=1100&&(u.value="1.4rem",o.value="1.4rem"),window.innerWidth>=768&&window.innerWidth<=992&&(u.value="1.3rem",o.value="1.3rem"),window.innerWidth>=576&&window.innerWidth<768&&(u.value="1.2rem",o.value="1.2rem"),window.innerWidth<576&&(u.value="1.1rem",o.value="1.1rem",n.value="140px",s.value="1.1rem")}),(f,x)=>{const w=de,C=pe,z=ve,S=I;return r(),m("section",ge,[v(w,{modelValue:i(l),"onUpdate:modelValue":x[0]||(x[0]=a=>U(l)?l.value=a:null),onShoppingCart:g},null,8,["modelValue"]),e("div",xe,[e("div",ye,[(r(!0),m(E,null,L(t.products,(a,y)=>(r(),m("div",{key:`product-${y}`,class:"col-12 col-sm-6 col-md-4 col-xl-3 mx-auto mb-5 text-center"},[v(S,{to:`/our-product/3/${a.id}`,class:"gold-hover"},{default:N(()=>[v(C,{src:i(c)+"/"+a.frontImageUrl,title:i(q)(a,"name"),newPrice:`${a.price} ${i(p).symbol}`,titleSize:i(u),priceSize:i(o),priceColor:"#977c38"},null,8,["src","title","newPrice","titleSize","priceSize"]),v(z,{url:`/our-product/4/${a.id}`,classes:["py-1 py-sm-s"],width:i(n),fontSize:i(s),btnText:f.$t("add-to-cart")},null,8,["url","width","fontSize","btnText"])]),_:2},1032,["to"])]))),128))])])])}}},we=$(be,[["__scopeId","data-v-8f417fac"]]);const Ce=e("i",{class:"fa fa-refresh fa-3x",id:"refresh_icon","aria-hidden":"true"},null,-1),ze=e("h5",null,"Load More...",-1),Se=[Ce,ze],Be={__name:"index",async setup(t){let c,d;const{api:p,apiBase:u}=R(),o=_(0),n=_(8),s=_([]),l=_(!1),g=_(!1),{data:f,error:x,pending:w,execute:C}=([c,d]=P(()=>J("products",()=>$fetch(`${p.GalleryGetPaginationsApi}`,{method:"GET",baseURL:`${u}`,params:{PageNumber:o.value,PageSize:n.value},headers:{Authorization:`Bearer ${Q().value}`}}),{watch:[o,n]})),c=await c,d(),c);console.log("gallery : ",f.value),x.value&&x.value.statusCode==401&&([c,d]=P(()=>O().reAuthorize()),await c,d());const z=a=>{a.length==0&&(g.value=!0),a.forEach(y=>{s.value.push(y)})},S=()=>{const a=document.getElementById("refresh_icon");o.value=o.value+1,a.classList.add("fa-spin")};return V(()=>{f.value?s.value=f.value:C()}),k(f,a=>z(a)),k(w,a=>{l.value=a,l.value||setTimeout(()=>document.getElementById("refresh_icon").classList.remove("fa-spin"),500)}),(a,y)=>{const A=we;return r(),m("div",null,[i(s)?(r(),F(A,{key:0,products:i(s)},null,8,["products"])):B("",!0),i(g)?B("",!0):(r(),m("div",{key:1,onClick:S,class:"text-center py-4 load-more"},Se))])}}};export{Be as default};
